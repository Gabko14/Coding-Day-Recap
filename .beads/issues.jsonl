{"id":"cdr-0rj","title":"Port generate-html.ps1 to Python","description":"Create scripts/generate_html.py as a direct port of generate-html.ps1. ~180 lines. argparse for --data-file and --output-file. pathlib for template path. json.loads/re.sub for data+template. Same positioning math, color maps, HTML fragment builders. chmod +x with #!/usr/bin/env python3 shebang.","status":"closed","priority":1,"issue_type":"task","owner":"gabkolistiak@gmail.com","created_at":"2026-02-10T11:15:34.952784+01:00","created_by":"Gabko14","updated_at":"2026-02-10T23:29:15.4055126+01:00","closed_at":"2026-02-10T11:18:58.672942+01:00","close_reason":"Created scripts/generate_html.py — direct Python port of generate-html.ps1. Tested with sample data, output verified correct."}
{"id":"cdr-4bz","title":"Delete PowerShell scripts","description":"Remove scripts/gather-stats.ps1 and scripts/generate-html.ps1. Python works on all platforms and CASS already requires Python. No reason to maintain two implementations.","status":"closed","priority":2,"issue_type":"task","owner":"gabkolistiak@gmail.com","created_at":"2026-02-10T11:15:39.759803+01:00","created_by":"Gabko14","updated_at":"2026-02-10T23:29:15.4071209+01:00","closed_at":"2026-02-10T12:04:46.11437+01:00","close_reason":"Closed","dependencies":[{"issue_id":"cdr-4bz","depends_on_id":"cdr-0rj","type":"blocks","created_at":"2026-02-10T11:15:46.012818+01:00","created_by":"Gabko14"},{"issue_id":"cdr-4bz","depends_on_id":"cdr-so4","type":"blocks","created_at":"2026-02-10T11:15:46.061953+01:00","created_by":"Gabko14"}]}
{"id":"cdr-7lv","title":"Update README.md for cross-platform support","description":"Platform: macOS, Linux, Windows. Prerequisites: replace PowerShell with Python 3. Install: add ln -s alongside New-Item Junction. File structure: update script filenames from .ps1 to .py. Update How it works section.","status":"closed","priority":2,"issue_type":"task","owner":"gabkolistiak@gmail.com","created_at":"2026-02-10T11:15:38.727624+01:00","created_by":"Gabko14","updated_at":"2026-02-10T23:29:15.4076341+01:00","closed_at":"2026-02-10T11:20:15.820627+01:00","close_reason":"Closed","dependencies":[{"issue_id":"cdr-7lv","depends_on_id":"cdr-0rj","type":"blocks","created_at":"2026-02-10T11:15:45.911566+01:00","created_by":"Gabko14"},{"issue_id":"cdr-7lv","depends_on_id":"cdr-so4","type":"blocks","created_at":"2026-02-10T11:15:45.961895+01:00","created_by":"Gabko14"}]}
{"id":"cdr-ize","title":"Integrate browser history into day recap","description":"## Summary\r\n\r\nAdd browser history as a complementary data source to CASS sessions, filling the ~40% of work activity that happens outside Claude Code (PR reviews, Jira triage, manual testing, Confluence research, DevOps tools).\r\n\r\n## Approach\r\n\r\n### Script: `scripts/browser_history.py`\r\n\r\nA simple extraction script that runs during Phase 1. No filtering — the AI handles that.\r\n\r\n**Input:** `--date YYYY-MM-DD` and `--output path`\r\n**Data source:** Chromium `visits` table joined with `urls` table (Edge or Chrome)\r\n\r\nKey design decisions:\r\n- Use `visits` table (not `urls`) — gives every individual page visit with its own timestamp\r\n- Include `visit_duration` (microseconds) — the killer field that distinguishes \"glanced at for 0s\" (auth redirect) from \"spent 5 minutes reading\" (PR diff review)\r\n- Copy the History DB to a temp location first (browser locks it while running)\r\n- Insert visual gap markers when \u003e30 min between visits (natural context switches)\r\n- Auto-detect Edge vs Chrome (Edge path first, fallback to Chrome)\r\n- Handle Windows cp1252 encoding — write to UTF-8 file, don't print to console\r\n\r\n**Output format:**\r\n```\r\nBROWSER HISTORY: 2026-02-10\r\nSource: Edge | 397 visits | 142 unique URLs\r\n\r\n01:29 |  45s | Gabko14/day-summary: Claude Code skill...     | https://github.com/...\r\n01:30 | 180s | Dicklesworthstone/coding_agent_session_search  | https://github.com/...\r\n\r\n--- GAP: 14 hours ---\r\n\r\n15:34 |   0s | statics.teams.cdn.office.net (safelink)       | https://statics...\r\n15:34 |  95s | [LEON-3057] Stammdaten \u003e Pflichtfelder...      | https://jira.ims.ch/...\r\n```\r\n\r\n### SKILL.md Changes\r\n\r\n**Phase 1:** Add browser history extraction call:\r\n```bash\r\npython ~/.claude/skills/day-summary/scripts/browser_history.py \\\r\n  --date YYYY-MM-DD \\\r\n  --output ~/Desktop/browser-history-YYYY-MM-DD.txt\r\n```\r\n\r\n**Phase 2:** Add one more haiku reader that gets the browser history file:\r\n- Prompt: \"Read this browser history with visit durations. Identify work activities NOT already covered by Claude Code sessions. Group repeated visits into single activities. Use visit_duration to distinguish meaningful visits from noise (auth redirects = 0s, real work = 30s+). Focus on: PR reviews, Jira issues, manual testing, Confluence, DevOps tools.\"\r\n- The main agent merges browser activities into the timeline, filling gaps between CASS sessions\r\n\r\n### Implementation Notes\r\n\r\n- Query: `SELECT v.visit_time, v.visit_duration, u.url, u.title FROM visits v JOIN urls u ON v.url = u.id WHERE v.visit_time BETWEEN ? AND ? ORDER BY v.visit_time`\r\n- Chromium epoch offset: 11644473600 * 1000000 (Jan 1, 1601 in microseconds)\r\n- Edge path: `~/AppData/Local/Microsoft/Edge/User Data/Default/History`\r\n- Chrome path: `~/AppData/Local/Google/Chrome/User Data/Default/History`\r\n- Temp copy needed because browser locks the SQLite file\r\n- Don't use os.remove() — DCG blocks it. Leave temp file for manual cleanup or use trash\r\n\r\n## Acceptance Criteria\r\n\r\n- [ ] `browser_history.py` extracts all visits for a given date with duration\r\n- [ ] Gap markers inserted for 30+ min gaps\r\n- [ ] Works on Windows (Edge + Chrome fallback)\r\n- [ ] SKILL.md updated with browser history extraction step\r\n- [ ] SKILL.md updated with browser history reader subagent prompt\r\n- [ ] Tested end-to-end: browser history fills gaps in a real day recap\r\n","status":"open","priority":2,"issue_type":"task","owner":"GLi@ims.ch","estimated_minutes":120,"created_at":"2026-02-10T23:28:17.1724109+01:00","created_by":"GLi","updated_at":"2026-02-10T23:29:15.4066049+01:00","labels":["feature"]}
{"id":"cdr-so4","title":"Update SKILL.md for cross-platform support","description":"Remove all powershell references. Phase 1: promote cass commands as primary workflow, remove gather-stats.ps1 dependency. Phase 3: replace powershell invocation with python3 generate_html.py. Day-of-week: python3 one-liner. Browser open: platform-agnostic instruction. Remove 'if script fails' framing.","status":"closed","priority":1,"issue_type":"task","owner":"gabkolistiak@gmail.com","created_at":"2026-02-10T11:15:36.603286+01:00","created_by":"Gabko14","updated_at":"2026-02-10T23:29:15.4028017+01:00","closed_at":"2026-02-10T11:19:35.19697+01:00","close_reason":"Removed all powershell references from SKILL.md. Day-of-week uses python3. Stats gathering uses cass commands directly. HTML generation uses python3 generate_html.py. Browser open is platform-agnostic.","dependencies":[{"issue_id":"cdr-so4","depends_on_id":"cdr-0rj","type":"blocks","created_at":"2026-02-10T11:15:45.860556+01:00","created_by":"Gabko14"}]}
